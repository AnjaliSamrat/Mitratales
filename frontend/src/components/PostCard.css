/* Advanced Post Card Layout */
.post-card{position:relative;display:flex;flex-direction:column;gap:20px;margin:18px 0;padding:24px;background:linear-gradient(165deg,rgba(15,23,42,0.92),rgba(15,23,42,0.78));border:1px solid rgba(148,163,184,0.16);border-radius:28px;box-shadow:0 25px 48px -30px rgba(15,23,42,0.85);transition:transform .35s ease, box-shadow .35s ease, border-color .3s ease}
.post-card:hover{transform:translateY(-4px);box-shadow:0 35px 68px -28px rgba(30,64,175,0.35);border-color:rgba(96,165,250,0.32)}
.post-card.is-focused{border-color:rgba(96,165,250,0.65);box-shadow:0 0 0 2px rgba(96,165,250,0.4),0 28px 60px -32px rgba(59,130,246,0.4)}
.post-card.is-editing{background:rgba(15,23,42,0.82)}

.post-card-head{display:flex;justify-content:space-between;align-items:flex-start;gap:16px}
.post-card-ident{display:flex;align-items:center;gap:14px}
.post-card-avatar{width:52px;height:52px;border-radius:18px;object-fit:cover;box-shadow:0 12px 25px -18px rgba(15,23,42,0.9)}
.post-card-avatar.is-placeholder{position:relative;display:inline-flex;align-items:center;justify-content:center;width:52px;height:52px;border-radius:18px;background:linear-gradient(135deg,rgba(96,165,250,0.4),rgba(59,130,246,0.28));color:#e2e8f0;font-weight:800;font-size:20px;letter-spacing:.04em}
.post-card-avatar-glow{position:absolute;inset:-18px;border-radius:28px;background:radial-gradient(circle at 30% 30%,rgba(147,197,253,0.7),rgba(59,130,246,0));filter:blur(14px);opacity:0.85;animation:avatarPulse 5.6s ease-in-out infinite}

.post-card-author-block{display:flex;flex-direction:column;gap:4px}
.post-card-author{font-weight:800;font-size:16px;color:#f8fafc}
.post-card-meta-line{display:flex;align-items:center;gap:6px;font-size:12px;color:rgba(226,232,240,0.65);letter-spacing:.04em;text-transform:uppercase}
.post-card-meta-dot{color:rgba(226,232,240,0.35)}
.post-card-visibility{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;background:rgba(59,130,246,0.16);color:#bfdbfe;font-weight:600}

.post-card-body{display:flex;flex-direction:column;gap:16px}
.post-card-text{margin:0;font-size:15px;line-height:1.7;color:#e2e8f0;white-space:pre-wrap}

.post-card-media{display:grid;gap:12px;border-radius:22px;overflow:hidden;background:rgba(15,23,42,0.55);border:1px solid rgba(148,163,184,0.16);padding:12px}
.post-card-media.is-single{grid-template-columns:1fr}
.post-card-media.is-grid{grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}
.post-card-media-item{position:relative;border-radius:18px;overflow:hidden;background:rgba(15,23,42,0.85);box-shadow:0 16px 32px -26px rgba(15,23,42,0.85);transition:transform .35s ease, box-shadow .35s ease}
.post-card-media-item:hover{transform:translateY(-3px);box-shadow:0 20px 36px -28px rgba(59,130,246,0.45)}
.post-card-media-asset{display:block;width:100%;height:100%;aspect-ratio:4/5;object-fit:cover}
.post-card-media-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(15,23,42,0.7);color:#f8fafc;font-weight:800;font-size:24px;letter-spacing:.08em}

.post-card-edit{display:flex;flex-direction:column;gap:12px}
.post-card-edit-input{width:100%;min-height:120px;padding:16px;border-radius:18px;border:1px solid rgba(148,163,184,0.2);background:rgba(15,23,42,0.7);color:#f8fafc;font-size:15px;line-height:1.6;font-family:inherit;resize:vertical}
.post-card-edit-input:focus{outline:none;border-color:rgba(96,165,250,0.45);box-shadow:0 0 0 3px rgba(59,130,246,0.18)}
.post-card-edit-actions{display:flex;gap:10px}
.post-card-edit-save,
.post-card-edit-cancel{padding:10px 18px;border-radius:999px;border:1px solid rgba(148,163,184,0.22);background:rgba(30,41,59,0.85);color:#e2e8f0;font-weight:600;cursor:pointer;transition:all .25s ease}
.post-card-edit-save{background:linear-gradient(135deg,#38bdf8,#60a5fa);color:#0f172a;border-color:rgba(96,165,250,0.45);box-shadow:0 12px 24px -18px rgba(96,165,250,0.75)}
.post-card-edit-save:disabled{opacity:.6;cursor:not-allowed;box-shadow:none}
.post-card-edit-cancel:hover{background:rgba(59,130,246,0.18)}

.post-card-stats{display:flex;justify-content:space-between;align-items:center;padding:12px 18px;border-radius:18px;background:rgba(15,23,42,0.7);border:1px solid rgba(148,163,184,0.12);font-size:13px;font-weight:600;color:rgba(226,232,240,0.75)}
.post-card-stat{display:inline-flex;align-items:center;gap:6px}
.post-card-stat-icon{display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background:rgba(59,130,246,0.18);color:#bfdbfe}

.post-card-actions{display:flex;justify-content:space-between;align-items:center;padding:6px 0}
.post-card-actions-main{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.post-action{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:16px;border:1px solid rgba(148,163,184,0.18);background:rgba(30,41,59,0.75);color:rgba(226,232,240,0.85);font-size:13px;font-weight:600;cursor:pointer;transition:all .25s ease}
.post-action:hover{border-color:rgba(96,165,250,0.45);color:#bfdbfe;transform:translateY(-1px)}
.post-action.is-active{background:linear-gradient(135deg,rgba(59,130,246,0.4),rgba(56,189,248,0.25));border-color:rgba(96,165,250,0.55);color:#e0f2fe}
.post-action-icon{transition:transform .2s ease}
.post-action.is-active .post-action-icon{transform:scale(1.1)}
.post-action-status{margin-left:8px;font-size:11px;color:rgba(226,232,240,0.6);letter-spacing:.04em;text-transform:uppercase}

.reactions-wrap{position:relative}
.reactions-bar{position:absolute;left:0;top:-52px;display:flex;gap:8px;padding:8px 10px;border-radius:20px;background:rgba(15,23,42,0.85);border:1px solid rgba(148,163,184,0.2);box-shadow:0 18px 32px -26px rgba(15,23,42,0.85);animation:menuFade .15s ease-out}
.reaction-btn{border:0;background:transparent;font-size:20px;cursor:pointer;transition:transform .12s ease}
.reaction-btn:hover{transform:scale(1.2)}

.comments{display:flex;flex-direction:column;gap:14px;padding:0 4px 8px}
.post-card-hint{padding:10px 12px;border-radius:14px;background:rgba(59,130,246,0.12);color:#bfdbfe;font-size:12px;font-weight:600;letter-spacing:.04em;text-transform:uppercase}
.post-card-alert{display:flex;justify-content:space-between;align-items:center;gap:14px;padding:10px 14px;border-radius:16px;background:rgba(248,113,113,0.14);color:#fecaca;border:1px solid rgba(248,113,113,0.35);font-size:13px}
.post-card-alert button{border:1px solid rgba(248,113,113,0.55);background:transparent;color:#fee2e2;border-radius:999px;padding:6px 12px;font-size:12px;font-weight:600;cursor:pointer}
.comments-list{display:flex;flex-direction:column;gap:10px}
.comment-item{display:flex;gap:8px;align-items:flex-start;font-size:13px;color:#e2e8f0;background:rgba(15,23,42,0.65);border:1px solid rgba(148,163,184,0.12);border-radius:16px;padding:10px 12px}
.comment-author{font-weight:700;color:#bfdbfe}
.comment-text{flex:1;color:#e2e8f0}
.comment-time{color:rgba(226,232,240,0.5);font-size:11px;margin-top:2px}

.comment-input{display:flex;gap:10px;align-items:center}
.comment-input input{flex:1;padding:10px 14px;border-radius:18px;border:1px solid rgba(148,163,184,0.2);background:rgba(15,23,42,0.75);color:#e2e8f0}
.comment-input input:focus{outline:none;border-color:rgba(96,165,250,0.45);box-shadow:0 0 0 3px rgba(59,130,246,0.18)}
.comment-input button{padding:10px 18px;border-radius:18px;border:1px solid rgba(148,163,184,0.25);background:linear-gradient(135deg,#38bdf8,#60a5fa);color:#0f172a;font-weight:700;cursor:pointer;transition:transform .2s ease, box-shadow .2s ease}
.comment-input button:hover{transform:translateY(-1px);box-shadow:0 12px 22px -18px rgba(96,165,250,0.7)}
.comment-input button:disabled{background:rgba(148,163,184,0.3);color:rgba(226,232,240,0.6);box-shadow:none;cursor:not-allowed;transform:none}

.owner-menu-wrap{position:relative}
.owner-menu-btn{padding:8px;border-radius:14px;border:1px solid rgba(148,163,184,0.18);background:rgba(30,41,59,0.75);color:#e2e8f0;font-size:18px;cursor:pointer;transition:all .2s ease}
.owner-menu-btn:hover{border-color:rgba(96,165,250,0.45);color:#bfdbfe}
.owner-menu{position:fixed;background:rgba(15,23,42,0.92);border:1px solid rgba(148,163,184,0.2);border-radius:16px;box-shadow:0 18px 32px -24px rgba(15,23,42,0.85);min-width:160px;overflow:hidden;animation:menuFade .18s ease-out;z-index:1200}
.owner-menu-item{padding:10px 14px;color:#e2e8f0;font-size:14px;font-weight:600;cursor:pointer;transition:background .18s ease}
.owner-menu-item:hover{background:rgba(96,165,250,0.18)}
.owner-menu-item.danger{color:#fca5a5}

.confirm-backdrop{position:fixed;inset:0;background:rgba(15,23,42,0.65);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:2000;animation:backdropFade .2s ease-out}
.confirm-dialog{background:rgba(15,23,42,0.9);border:1px solid rgba(148,163,184,0.22);border-radius:20px;padding:24px;min-width:320px;box-shadow:0 25px 48px -30px rgba(15,23,42,0.9);animation:dialogPop .22s ease-out}
.confirm-title{font-size:18px;font-weight:800;margin-bottom:6px;color:#f8fafc}
.confirm-message{color:rgba(226,232,240,0.7);margin-bottom:18px}
.confirm-actions{display:flex;justify-content:flex-end;gap:12px}
.confirm-actions button{padding:10px 18px;border-radius:14px;border:1px solid rgba(148,163,184,0.2);background:rgba(30,41,59,0.8);color:#e2e8f0;font-weight:600;cursor:pointer}
.confirm-actions button:hover{border-color:rgba(96,165,250,0.45)}
.confirm-actions .danger{background:#ef4444;border-color:#ef4444;color:#fee2e2}

@keyframes menuFade{from{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}
@keyframes backdropFade{from{opacity:0}to{opacity:1}}
@keyframes dialogPop{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}
@keyframes avatarPulse{0%,100%{transform:scale(.95);opacity:.75}50%{transform:scale(1.05);opacity:1}}

@media (max-width:900px){
  .post-card{padding:20px;border-radius:24px}
  .post-card-stats{flex-wrap:wrap;gap:10px}
  .post-card-actions-main{width:100%;justify-content:space-between}
}

@media (max-width:640px){
  .post-card{padding:18px;gap:16px}
  .post-card-head{flex-direction:column;align-items:flex-start}
  .post-card-actions{flex-direction:column;align-items:flex-start;gap:10px}
  .post-card-actions-main{width:100%}
  .post-card-media{padding:8px;grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}
}

@media (prefers-reduced-motion: reduce){
  .post-card,
  .post-card-media-item,
  .post-action,
  .reaction-btn,
  .post-card-avatar-glow,
  .post-card-edit-save,
  .comment-input button,
  .owner-menu-btn{
    transition:none;
    animation:none;
  }
}
